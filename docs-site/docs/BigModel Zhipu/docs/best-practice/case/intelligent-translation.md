# 智能翻译

> 从传统机翻到智能语境适配。

## 场景介绍

随着大语言模型技术的不断成熟，翻译技术也迎来了重大突破。凭借强大的上下文理解能力，大模型能提供更自然、更贴近真实语境的翻译，更能贴合目标语言的表达习惯，真正实现“思维方式”的翻译。这种技术革新让翻译不仅仅停留在字面上的转换，而是可以更好地传达信息背后的意图和文化

## 业务需求

在日常生活和工作中，跨语言沟通的需求日益增加。无论是企业在多语言市场中运营，还是个人获取全球信息，翻译已成为不可或缺的工具。然而，传统机器翻译因语境理解不足、表达生硬，常常面临无法准确传达语境、文化差异以及口语化表达等挑战。

## 可行性评估

语言翻译技术经历了从传统规则翻译到深度学习翻译的逐步发展，每一次革新都显著提高了翻译的准确性和自然度。

### 传统机器翻译的局限性

传统翻译技术基于规则和统计模型，能够提供基本的翻译，但常常出现死板和字面化的结果，尤其在遇到多义词、习语或文化差异时，翻译往往不自然，且容易误导。例如，地方性表达或习惯用语常常被错误地翻译，无法传达原文的深层含义，导致译文与目标语言的文化习惯不符。

### 深度学习翻译技术的崛起

神经机器翻译（NMT）通过大规模语料库学习，克服了传统方法的局限，能够更好地理解上下文和语境，提供更加流畅、准确的翻译。NMT转向了基于语义理解的翻译，不仅仅是简单的词汇替换，为更复杂的多语言翻译应用打下了基础。

### 大模型翻译的质变

大模型技术的引入使得翻译进入一个新的阶段。这些超大规模预训练模型通过海量数据学习，能够精准捕捉语言的深层语义和文化背景，提供更符合语境的翻译。相比传统方法，大模型具备强大的上下文理解能力，能够在多语言和多文化环境中灵活适配，避免常见的翻译错误，显著提升了翻译的准确性与流畅度。

## 解决方案

翻译插件 「[沉浸式翻译](https://mp.weixin.qq.com/s/gCxajSAtKKC0T14KRZxxzw)」在接入智谱GLM模型的翻译能力后，凭借优秀的产品体验得到用户青睐。智谱 BigModel 开放平台与“沉浸式翻译”深度合作，将免费模型 GLM-4-Flash 接入并优化，上线后收获大量用户好评，用户留存数据表现佳。

### 大模型翻译方案

提供一版推荐的`Prompt`供大家参考

* 英文版本

```
# System prompt: 
You are an expert in both the source and target languages, with a deep understanding of their respective cultures. 
# user prompt: 
Source Text: 
 """ 
{input 1} 
 """ 
## Translation Requirements: 
1.Stay true to the “Source Text,” ensuring each sentence is translated accurately and fluently. 
2.Ensure that no part of the text is omitted during translation. Every detail must be included. 
3.Large numbers must be translated correctly, following Simplified Chinese onventions. 
 ## Instruction: 
1.Carefully analyze and deeply understand the content, context, emotions, and cultural nuances of the “Source Text” in relation to the target language. 
2.Translate the “Source Text” into {{input 2}} accurately according to the “Translation Requirements.” 
3.Ensure the translation is accurate, natural, and fluent for the target audience. Adjust expressions as necessary to fit cultural and linguistic norms. 
## Requirements: 
Do not include any additional content. Only output the translation. This is crucial. 
```

* 中文版本

```
您是一位精通「源文本语言」与「目标语言」文化和语言的翻译专家。7
# User prompt
源本文 
""" 
{input1} 
""" 
## 翻译要求:
1.忠实于"源文本"，确保每个句子都得到准确且流畅的翻译。
2.大额数字的翻译需准确无误，符合简体中文的表达习惯。

##任务:
1.仔细研究并深入理解"源文本"的内容、上下文、语境、情感以及和目标语言的文化细微差异。
2.根据「翻译要求」将"源文本"准确翻译为{{input 2}}。
3.确保翻译对目标受众来说准确、自然、流畅，必要时可以根据需要调整表达方式以符合文化和语言习惯。

注意:不要输出任何额外的内容，只能输出翻译内容。这一点非常关键。
```

* 评测结果

| 分类      | 英文版本   | 中文版本   |
| :------ | :----- | :----- |
| 翻译准确性   | 75/142 | 82/142 |
| 流畅性与自然度 | 86/142 | 97/142 |

### 网页翻译工程侧方案

方案架构：

![Description](https://cdn.bigmodel.cn/markdown/1730885555812whiteboard_exported_image.png?attname=whiteboard_exported_image.png)

方案说明：

* 内容识别： 沉浸式翻译工具使用智能算法来分析网页的HTML结构，识别出网页的主要内容区域。
* 文本提取： 在识别出内容区域后，工具会提取这些区域的文本内容。这包括从HTML标签中提取可见文本，忽略掉脚本、样式和其他不需要翻译的代码。
* 预处理： 提取出的文本可能会包含一些不必要的空格、特殊字符或者格式信息，需要对这些文本进行预处理，清除格式，标准化空格，以便于进行翻译。
* 翻译调用： 将预处理后的文本拼到Prompt模板中请求智谱模型API。
* 结果整合： 翻译完成后，将原文和译文对照地整合回网页、字幕中，通常是原文保持不变，译文以悬浮框、下划线注释或是平行文本的形式展示。
* 用户界面交互： 用户可以通过鼠标悬停、点击等交互方式来控制翻译的显示与否，工具会根据用户的操作实时显示或隐藏译文。

### 文档翻译工程侧方案

方案架构：

![Description](https://cdn.bigmodel.cn/markdown/1730887444380whiteboard_exported_image-2.png?attname=whiteboard_exported_image-2.png)

方案说明：

* 文件解析： 从用户上传的PDF等格式的文档中解析出文字，智谱开放平台提供了限时免费的文件解析服务API。
* 预处理： 提取出的文本可能会包含一些不必要的空格、特殊字符或者格式信息，需要对这些文本进行预处理，清除格式，标准化空格，以便于进行翻译。
* 片段切分：当页面内容较长时，您可以通过切分片段，并通过高并发请求大模型来减少整体耗时。
* 模型调用： 将预处理后的文本拼到Prompt模板中请求智谱模型API。
* 结果整合： 翻译完成后，将翻译后的译文按照您期望的样式展示在用户交互界面中。

### 其他效果提升小技巧

### 自定义专业术语

同一词语在不同行业、场景的含义不同，推荐您以KV对的形式进行专有名词的翻译。

```
    "glossaries": [
      {
        "k": "LLM", // v 为空时则不翻译该单词
        "v": ""
      },
      {
        "k": "Tactic", // 将 Tactic 翻译为 策略
        "v": "策略"
      }
    ],
}
```

## 效果评估

为了全面评估GLM在语言翻译中的表现，我们采用了多种评测方法，并在不同实际应用场景中评测和迭代了其翻译效果。

### 评测方案探索

为了兼顾高效和高质量，我们综合采用了包括自动化评估和人工评估的方案。自动化评估方案中，我们基于智谱最强大的 [GLM-4-Plus（近期链式推理能力国产大模型第一）](https://mp.weixin.qq.com/s/3HnH5yLVJcfFhHFcouEr3g)模型构建了一个用于对翻译结果质量打分的 Evaluator。人工评估则邀请专业译者对翻译结果的流畅性、准确性和语境适配度进行打分，能够提供更直观的质量反馈。通过这两种方式的结合，我们可以全面了解GLM的翻译水平。

自动化评估 Evaluator 的 `system prompt` 如下：

```
请你以公正的评判者的身份，评估一个翻译结果的质量。由你需要从下面的几个维度对回答进行评估: 
1. 信：译文是否忠于原文，表达含义和情感是否和原文一致，不漏翻不多翻。
2. 达：译文是否通顺，符合译文母语表达习惯而非生硬照搬。
3. 雅：译文词雅，可带给读者文学美。
我们会给你提供原文，高质量的参考答案，和需要你评估的译文。当你开始评估时，你需要按照遵守以下的流程：
1. 将需要评估的译文与参考答案进行比较，指出译文有哪些不足，并进一步解释。
2. 从不同维度对翻译结果进行评价，在每个维度的评价之后，给每一个维度一个1～10的分数。
3. 最后，综合每个维度的评估，对整体翻译给出一个1～10的综合分数。
在不同翻译场景下，对三个维度的需求也不同。比如在社交商务上，信最重要，达其次，雅则不是必须的；而在诗词文艺类方向，由于文本字面意思不一定是作者本意，需要结合语境和背景推测原意再翻译，更强调达和雅。因此，对于最后的综合分数请依据文字内容上下文环境综合考量。

你的打分需要尽可能严格，并且要遵守下面的评分规则：总的来说，翻译质量越高，则分数越高。
1. 当翻译内容含义和原文不相关时，总分必须是1到2分；
2. 当翻译内容存在错翻、多翻、只翻译了部分内容或存在不必要的多语言混杂的情况下，总分为3到4分。
3. 当翻译基本准确，但是表达生硬，不符合译文母语表达习惯，不通顺，晦涩难懂时，总分为5到6分。
4. 当翻译准确，表达通顺，但在情感或用词方式上不符合原文上下文语境，或极个别特殊用语、专业术语翻译不够精准，总分为7到8分。
5. 当翻译质量与参考答案相近，所有维度上表现良好，甚至超越参考答案时，才能得到9到10分。
作为示例，参考答案可以得到8分或者9分。

请记住，你必须在你打分前进行评价和解释。在你对每个维度的解释之后，需要加上对该维度的打分。之后，在你回答的末尾，按照以下字典格式（包括括号）返回你所有的打分结果，并确保你的打分结果是整数，例如：{{"信": 9, "达": 6, "雅": 5, "综合得分": 7}}。
### 原文
{en}
### 参考答案
{ref}
### 译文
{pred}
```

### 评测方案分析

总体来讲，自动化评估 Evaluator 对参考答案的遵循非常强，虽然会尝试从不同维度进行思考分析，但基本上是围绕着译文和参考答案的差别来进行的。这就会导致参考答案的质量会很大程度上影响判定的分数。对于不够出彩的参考答案，如果翻译结果跟参考答案一模一样，也会得到很高的分数。对于和参考答案有明显错翻的case，各个维度都会给低分。

对于语义层面的分析，总体来说评估效果不错。对于比较细节的格式问题，如标点缺失，并不能抓住这样的差异。但对于书名号这种，虽然不会主动从英文原文的大小写上去分析，但是如果参考答案中存在，依然会很严格地认定翻译结果缺少书名号是不够优秀的翻译结果。

### 初步评测结论

**整体结果**：

| 模型         | 信    | 达    | 雅    | 综合得分 |
| :--------- | :--- | :--- | :--- | :--- |
| GPT-4o     | 8.38 | 8    | 6.57 | 7.65 |
| GLM-4-Plus | 8.35 | 7.94 | 6.56 | 7.62 |

**细分领域结果**：

| 模型         | 非正式语体 | 科技类  | 新闻类  | 医药类  | 文学类  | YouTube字幕 |
| :--------- | :---- | :--- | :--- | :--- | :--- | :-------- |
| GPT-4o     | 6.71  | 6.84 | 7.64 | 8.31 | 7.21 | 8.29      |
| GLM-4-Plus | 6.79  | 7.84 | 8    | 8.06 | 7.36 | 7.47      |

接下来我们来通过几个典型应用场景，探讨下GLM模型在不同领域中的翻译效果与优势。

| 英文原文                                                                                                                                                                                                                                                                               | GLM中文翻译                                                                                             | 翻译亮点                                                            |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------- |
| I know people who keep asking me to tweet their stuff,and I can tell you I never did, Inever will and I don’t consider them myfriends anymore. Because asking for this is fundamentally beyond the point. The idea is that great things rise up by being rewarded for being great. | 我知道有些人总是让我帮他们转发内容，但我要告诉你，我从未做过，也永远不会做，而且我已经不再把他们当作朋友了。因为提出这样的要求本身就是本末倒置。伟大的事物之所以能够崛起，是因为它们因优秀而得到回报。 | 1.英文俚语准确译为中文成语“本末倒置” <br />2.根据上下文语义关系添加逻辑连词“之所以，是因为”，使得译文可读性更高 |
| The biggest part of the ship that had been found so far was a chunk of the ull, about the size of the average car, with ‘The Lucin’ printed on it, missing the last few letters of the name.                                                                                       | 迄今为止发现的最大的船体部分是一块船壳，大约相当于一辆普通汽车的大小，上面印有“The Lucin”，但名字的最后几个字母缺失了。                                   | “迄今为止”“大约相当于”符合中文表达习惯，翻译很地道                                     |
| I was still deciding which direction to take when I heard a voice from behind me.                                                                                                                                                                                                  | 我还在犹豫该走哪个方向时，背后传来一阵声音。                                                                              | 生硬的翻译会处理为“这时我听到身后传来一个声音”，GLM翻译更优美流畅                             |
| Butterflies live only short lives. They flower and flutter for just a few glorious weeks, and then they die. To see them, you have to be in the right place at the right time.                                                                                                     | 蝴蝶的生命短暂。它们绽放、翩翩起舞，只有短短几周的光辉，然后便死去。要看到它们，你必须身处正确的地点，在正确的时间。                                          | 译文将长句分割为短句，符合散文语句的特征                                            |
| NASA has broken the record for the farthest laser communication ever sent! We sent a laser signal to our Psyche spacecraft about 290 million miles away.                                                                                                                           | NASA打破了有史以来最远激光通信的记录！我们向约2.9亿英里外的Psyche 航天器发送了激光信号。                                                 | 译文保留缩略语，避免专有名词或术语的翻译冗长和一词多义造成错翻                                 |

## 方案亮点

大模型突破了传统翻译模型的局限，大幅提升了翻译质量，为翻译技术的广泛应用带来了前所未有的机遇。

### 语境理解与适配

大模型能够通过深度的上下文分析，理解语言背后的真正含义，而不仅仅是依赖字面意义。这使得翻译不仅符合语法结构，更能够适应不同的语境，避免了传统翻译中常见的词不达意、语境脱节的问题。尤其在处理含有隐喻、习语或文化特征的文本时，大模型能更精准地捕捉并传达原文的意图。

### 流畅自然的翻译输出

传统机器翻译常常产生生硬的翻译结果，尤其是在口语化表达或复杂句型上。大模型则通过对大量自然语言数据的学习，能够生成更加流畅、自然且地道的翻译，接近母语水平。这种翻译不仅更易理解，还能保持原文的语言风格和情感色彩，使得译文更加亲和力和感染力。

### 灵活性与多场景适应

大模型的优势在于其强大的适应性，能够根据不同的翻译场景灵活调整策略。无论是文学作品中的创意表达，还是技术文档中的精准描述，大模型都能通过优化其翻译方式，确保译文既准确又符合特定领域的需求。相比传统方法，它在多场景翻译中表现得更具灵活性和精准度。

### 文化适配与行业专用翻译

在跨文化翻译中，大模型能够深入理解语言背后的文化内涵，避免因文化差异导致的误解或偏差。例如，在法律、医疗和金融等专业领域，大模型能识别并处理特定术语，提供更加专业且符合行业标准的翻译结果。这使得它在需要高度专业性和文化敏感度的翻译场景中，比传统翻译方法更具优势。


---

> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://docs.bigmodel.cn/llms.txt